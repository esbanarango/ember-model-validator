<div class="ui masthead vertical segment">
  <div class="ui container">
    <div class="introduction">
      <h1 class="ui header">
        Presence
        <div class="sub header">
          Validates that the specified attributes are not empty.
        </div>
      </h1>
      <div class="ui hidden divider"></div>
      <p>
        A value is not present if it is empty or a whitespace string. It uses <a href="https://emberjs.com/api/ember/3.0/functions/@ember%2Futils/isBlank" target="_blank" rel="noopener">Ember.isBlank</a> method. This can be also used on <strong>async belongsTo</strong> relations.
      </p>
    </div>
  </div>
</div>

<div class="ui main container">
  <p>
    {{! template-lint-disable block-indentation }}
    <UiAnnotation @showing={{true}} @type="javascript">
validations = {
  name: {
    presence: true
  }
}
    </UiAnnotation>
    {{! template-lint-enable }}
  </p>
  <ConfigOptions @defaultMessage={{messages.presenceMessage}} />
  <UiExample @header="Form Input Examples" @subHeader="A form with some required inputs" as |showing setCopyCode|>

    <UiHtml @showing={{showing}}>
      <div class="ui two column grid">
        <div class="column">

          <ObjectForm @for={{model}} @classNames="segment">
            <FormField @for="fullName" @label="Full Name" @required={{true}}>
              <Input @value={{model.fullName}} placeholder="Full Name" />
            </FormField>
            <div class="fields">
              <div class="field">
                <FormField @for="fruit" @label="Favorite Fruit" @required={{true}}>
                  <UiDropdown @class="selection" @selected={{model.fruit}} @onChange={{action (mut model.fruit)}}>
                    <div class="default text">Fruit</div>
                    <i class="dropdown icon"></i>
                    <div class="menu">
                      <div class="item"></div>
                      {{#each fruits as |fruit|}}
                        <div class="item" data-value={{fruit}}>
                          {{fruit}}
                        </div>
                      {{/each}}
                    </div>
                  </UiDropdown>
                </FormField>
              </div>
              <div class="field">
                <FormField @for="color" @label="Favorite Color">
                  <Input @value={{model.color}} placeholder="Favorite Color" />
                </FormField>
              </div>
            </div>

            <div class="actions">
              <div class="ui input submit">
                <button class="ui button primary mr-10" {{action "validate"}}>Validate</button>
                <button class="ui button reset" {{action "reset"}}>Reset</button>
              </div>
            </div>
          </ObjectForm>
        </div>
        <div class="column">
          <div class="ui segment">
            <ModelErrorsToJson @errors={{model.errors}} @modelName={{modelName}} />
          </div>
        </div>
      </div>
    </UiHtml>
    {{! template-lint-disable block-indentation }}
    <UiAnnotation @showing={{showing}} @type="javascript" @setCopyCode={{setCopyCode}}>
import Model from 'ember-data/model';
import attr from 'ember-data/attr';
import Validator from 'ember-model-validator/decorators/model-validator';

@Validator
class MyModel extends Model {
  @attr("string") fullName;
  @attr("string") fruit;
  @attr("string") color;

  validations = {
    fullName: {
      presence: true
    },
    fruit: {
      presence: true
    }
  }
}

export default MyModel;

    </UiAnnotation>
    {{! template-lint-enable }}
  </UiExample>
</div>
